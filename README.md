# everything-recognition

Программа подключается к камере компьютера, считывает изображение и если в кадр попадает лицо человека - распознает лицо, глаза и рот.
Лицо заключает в прямоугольник синего цвета, глаза и рот в прямоугольники зеленого цвета.
В папке haarcascades лежат `*.xml` файлы с каскадами Хаара.

## Установка

Клонируйте репозиторий:

    git clone git@github.com:devmanorg/everything-recognition.git

Для установки компонентов выполните:

    pip install -r requirenments.txt

Для запуска вызовите:

    python run.py

## config.py

В файле заданы настройки для каждого объекта, определяемого в видео потоке: цвет прямоугольника, путь к соответствующему каскаду, необходимость определения объекта в потоке видео.

## run.py

Программа выполняет загрузку каскадов для определяемых в видео объектов из файла `config.py`.
Производится захват видео с камеры компьютера, открывается окно, выводящее поток видео с камеры.
При неудачной попытке получения доступа к камере выводится сообщение `Couldn't find your webcam... Sorry :c`.
Запускается бесконечный цикл и в каждом кадре, предварительно переведенном в оттенки серого, 
происходит определение объектов и подсветка их прямоугольниками заданного в настройках цвета.
Для выхода и закрытия окна необходимо нажать `q`.

### is_user_wants_quit

Функция проверяет не была ли нажата кнопка `q` и возвращает соответственно True или False.

### show_frame

Функция получает в качестве аргумента `frame` кадр с видео и выводит его в окно.

### draw_sqare

Функция получает на вход аргументы `frame` - кадр с видео и `color` - цвет в формате RGB.
Отрисовывает прямоугольник заданного цвета в кадре. Координаты определяются перед обращением к функции и находятся в области видимости.

### get_cascades

Функция загружает настройки каскадов, имеющие в ключе `draw` заначение `True`, с файла config.py
